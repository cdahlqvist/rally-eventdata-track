{% set p_bulk_indexing_clients = (bulk_indexing_clients | default(8)) %}

{
  "name": "elasticlogs-100m-load",
  "description": "Indexes 100m documents into the elasticlogs index. IDs are autogenerated by Elasticsearch, meaning there are no conflicts.",
  "meta": {
    "client_count": {{ p_bulk_indexing_clients }},
    "benchmark_type": "indexing"
  },
  "schedule": [
    {
      "operation": "deleteindex_elasticlogs"
    },
    {
      "operation": "create_elasticlogs_index"
    },
    {
      "operation": "index-append-1000-shard-sizing",
      "iterations": 100000,
      "clients": {{ p_bulk_indexing_clients }}
    }
  ]
}